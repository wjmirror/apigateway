{
  "Urls": "http://localhost:56729,https://localhost:44385",
  "ReverseProxy": {
    "Routes": {
      "crmRoute": {
        "ClusterId": "crmCluster",
        "AuthorizationPolicy": "default",
        "Match": {
          "Path": "/crmapi/{**remainder}"
        },
        "Transforms": [
          {
            "PathPattern": "/api/data/{CRMService.ApiVersion}/{**remainder}"
          }
        ]
      }
    },
    "Clusters": {
      "crmCluster": {
        "Destinations": {
          "CRMServer": {
            "Address": "{CRMService.ServiceUrl}"
          }
        }
      }
    }
  },
  "CRMService": {
    "ServiceUrl": "xxxxxxxx", //The mscrm cloud url
    "ApiVersion": "v9.2",
    "ServiceAccount": "xxxxxx", //only the inbound user is a service account, allow impersonate with CallerObjectId.
    "AuthenticationOptions": {
      "AuthenticationMethod": "OAuth2",
      "Authority": "https://login.microsoftonline.com/xxxxxxxxxxxxxxxxxx", //your Azure Ad tenant Id or name
      "ClientId": "xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxxx",
      "ClientSecret": "xxxxxxxxxxxxxxxxxxxxxxxxxxxx",
      "ResourceId": "",
      "UserPrincipalName": "xxxxxx@yyyy.com",
      "Password": "xxxxxxxxxxxxx",
      "UseUserAssertion": false
    }
  },
  "Logging": {
    "PathFormat": "logs\\log-{Date}.log",
    "OutputTemplate": "[{Timestamp:yyyy-MM-dd HH:mm:ss} {Level:u3}] [{SourceContext:l}] {Message:lj} {NewLine}{Exception}{NewLine}",
    "LogLevel": {
      "Default": "Information",
      "Microsoft": "Warning",
      "Microsoft.Hosting.Lifetime": "Information"
    }
  },
  "AllowedHosts": "*"
}
